aws_s3_cleanup:
  dag_id: aws_s3_cleanup
  params: {}
  default_args:
    start_date:
      __type__: datetime.datetime
      year: 2026
      month: 1
      day: 1
  schedule: '@daily'
  tasks:
    delete_s3_object:
      operator: airflow.providers.amazon.aws.operators.s3.S3DeleteObjectsOperator
      outlets: []
      priority_weight: 1
      retries: 0
      retry_delay:
        __type__: datetime.timedelta
        seconds: 300.0
      retry_exponential_backoff: false
      start_date:
        __type__: datetime.datetime
        year: 2026
        month: 1
        day: 1
      task_id: delete_s3_object
      trigger_rule: all_success
      wait_for_downstream: false
      dependencies: []
      expand:
        keys:
        - - logs/2023-01-01/app.log
        - - logs/2023-01-02/app.log
        - - logs/2023-01-03/app.log
        - - logs/2023-01-04/app.log
        - - logs/2023-01-05/app.log
      partial:
        aws_conn_id: aws_default
        bucket: my-log-bucket
        weight_rule: downstream
  catchup: false
  dag_display_name: aws_s3_cleanup
  owner_links: {}
  start_date:
    __type__: datetime.datetime
    year: 2026
    month: 1
    day: 1
  tags: []
